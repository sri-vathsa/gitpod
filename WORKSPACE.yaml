# this file makes this a leeway workspace
defaultTarget: components:all
defaultArgs:
  coreYarnLockBase: ../..
  publishToNPM: true
  imageRepoBase: 082830052325.dkr.ecr.us-east-1.amazonaws.com
  version: amd-test
  
defaultVariant: 
  config:
    go:
      lintCommand: ["golangci-lint", "run", "--disable", "govet,typecheck"]

variants:
- name: oss
  components:
    exclude:
      - components/ee/ws-scheduler
      - components/ee/cerc
  srcs:
    exclude:
    - "**/ee"
    - "**/ee/**"
    - "**/*_ee.*"
    - "**/*_ee_*.*"
  env:
  - GITPOD_OSS_BUILD=true
  config:
    go:
      buildTags:
      - -tags oss